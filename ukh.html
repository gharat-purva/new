<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat App</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {
      background-color: #f8f9fa;
    }

    .chat-container {
      max-width: 800px;
      margin: 50px auto;
    }

    .user-list {
      max-height: 400px;
      overflow-y: scroll;
      border: 1px solid #ced4da;
      border-radius: 5px;
    }

    .chat-box {
      background-color: #ffffff;
      border: 1px solid #ced4da;
      border-radius: 5px;
      max-height: 400px;
      overflow-y: scroll;
      margin-top: 20px;
    }

    .message-input {
      margin-top: 20px;
    }

    .fa-paper-plane {
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container chat-container">
  <div class="row">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">Users</h5>
        </div>
        <div class="card-body user-list" id="userList">
          <!-- User list goes here -->
          <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action">User 1</a>
            <a href="#" class="list-group-item list-group-item-action">User 2</a>
            <a href="#" class="list-group-item list-group-item-action">User 3</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title" id="chatHeader">Select a user to start a chat</h5>
        </div>
        <div class="card-body chat-box" id="messages">
          <!-- Chat messages go here -->
        </div>
        <div class="card-footer message-input">
          <div class="input-group">
            <input type="text" id="messageInput" class="form-control" placeholder="Type a message...">
            <div class="input-group-append">
              <button class="btn btn-primary" onclick="sendMessage()"><i class="fa fa-paper-plane"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
  // Function to update user list
  function updateUserList(users) {
    const userList = document.getElementById('userList');
    userList.innerHTML = '';
    users.forEach((user) => {
      userList.innerHTML += `<a href="#" class="list-group-item list-group-item-action" onclick="loadChat('${user.id}')">${user.name}</a>`;
    });
  }

  // Function to load chat history for a user
  function loadChat(userId) {
    const chatHeader = document.getElementById('chatHeader');
    chatHeader.innerText = `Chat with ${userId}`;

    // Dummy messages for demonstration (replace with API call)
    const dummyMessages = [
      { text: 'Hello!', sender: 'user1' },
      { text: 'Hi there!', sender: userId },
    ];

    // Populate the chat messages
    updateMessages(dummyMessages);
  }

  // Function to update chat messages
  function updateMessages(messages) {
    const messagesDiv = document.getElementById('messages');
    messagesDiv.innerHTML = '';
    messages.forEach((message) => {
      messagesDiv.innerHTML += `<p class="mb-1">${message.sender}: ${message.text}</p>`;
    });
  }

  // Function to send a new message
  function sendMessage() {
    const messageInput = document.getElementById('messageInput');
    const message = messageInput.value;

    // Dummy implementation (replace with API call)
    const dummyMessage = { text: message, sender: 'user1' };

    // Add the new message to the UI
    const messagesDiv = document.getElementById('messages');
    messagesDiv.innerHTML += `<p class="mb-1">You: ${dummyMessage.text}</p>`;

    // Clear the input field
    messageInput.value = '';
  }

  // Dummy user list for initial display (replace with API call)
  const dummyUsers = [
    { id: 'user1', name: 'User 1' },
    { id: 'user2', name: 'User 2' },
    { id: 'user3', name: 'User 3' },
  ];

  // Populate the initial user list
  updateUserList(dummyUsers);
</script>

</body>
</html>
